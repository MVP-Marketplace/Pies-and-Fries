{"version":3,"sources":["components/SignInForm.js","components/CreateAccountForm.js","components/SignIn.js","components/UserDashboard.js","context/AppContext.js","components/Navbar.js","components/Store.js","App.js","index.js"],"names":["SignInForm","useState","email","setEmail","password","setPassword","Form","onSubmit","e","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","console","log","json","status","window","location","href","catch","err","Group","controlId","Label","Control","type","placeholder","value","onChange","target","Text","className","Button","variant","CreateAccountForm","name","setName","number","setNumber","address","setAddress","passwordMatch","setPasswordMatch","alert","SignIn","props","signIn","UserDashboard","userInfo","setUserInfo","useEffect","setUserLogginIn","order","map","i","AppContext","createContext","AppContextProvider","children","currentUser","setCurrentUser","loading","setloading","user","sessionStorage","getItem","axios","get","withCredentials","data","error","Provider","Navbar","userLoggedIn","to","onClick","Store","items","setItems","item","App","exact","path","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.822c8733.chunk.js","sourcesContent":["import {useState} from 'react'\n\nimport { Form, Button } from 'react-bootstrap';\n\nconst SignInForm = () => {\n\nconst [email, setEmail] = useState('')\nconst[password,setPassword] = useState('')\n\nconst handleFormSubmit = (e) => {\n    e.preventDefault()\n    fetch('/api/users/login', {\n      method: \"POST\",\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      }\n    })\n    .then((res) => {\n      console.log(res)\n      res.json()\n      if(res.status === 200) {\n        window.location.href=\"/dashboard\"\n      } \n    }\n      )\n    .catch((err) => {\n      console.log(err)\n    })\n  } \n\n  const logoutUser = () => {\n    fetch('/api/users/logout', {\n      method: \"POST\"\n    })\n    .then((res) => {\n      console.log(res)\n      res.json()\n    }\n      )\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n   \n\n    return (\n        <>\n            <Form onSubmit={handleFormSubmit}>\n                <Form.Group controlId=\"formBasicEmail\">\n                     <Form.Label>Email address</Form.Label>\n                     <Form.Control type=\"email\" placeholder=\"Enter email\"  value = {email}  onChange={(e) => setEmail(e.target.value)}/>\n                      <Form.Text className=\"text-muted\">\n                       We'll never share your email with anyone else.\n                      </Form.Text>\n                         </Form.Group>\n                    <Form.Group controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\"  value = {password} onChange={(e) => setPassword(e.target.value)}/>\n                      </Form.Group>\n                      <Button variant=\"primary\" type=\"submit\">\n                        Submit\n                      </Button>\n                    </Form>\n       </> \n    )\n}\nexport default SignInForm","\nimport {useState} from 'react'\nimport { Form, Button } from 'react-bootstrap';\n\n const CreateAccountForm = () => {\n\n  const [name,setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [password,setPassword] = useState('')\n  const [number,setNumber] = useState('')\n  const [address,setAddress] = useState('')\n  const [passwordMatch, setPasswordMatch] = useState('')\n\n  const handleSubmit = (e) => {\n    if(passwordMatch === password ) {\n      e.preventDefault()\n      fetch('/api/users', {\n        method: \"POST\",\n        body: JSON.stringify({\n          name: name,\n          email: email,\n          password: password,\n          number: number,\n          address: address,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        }\n      })\n      .then((res) => res.json())\n      .catch((err) => {\n        console.log(err)\n      })\n    } else {\n      alert('passwords do not match')\n    }\n   \n  }\n    return (\n        <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"formBasicUserName\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control type=\"Text\" placeholder=\"EnterName\" value = {name} onChange={(e) => setName(e.target.value)}/>\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control type=\"email\" placeholder=\"Enter email\" value = {email}  onChange={(e) => setEmail(e.target.value)}/>\n          <Form.Text className=\"text-muted\">\n            We'll never share your email with anyone else.\n          </Form.Text>\n        </Form.Group>\n      \n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control type=\"password\" placeholder=\"Password\" value = {password} onChange={(e) => setPassword(e.target.value)}/>\n          <Form.Label>Confirm Password</Form.Label>\n          <Form.Control type=\"password\" placeholder=\"Password\" value = {passwordMatch} onChange={(e) => setPasswordMatch(e.target.value)}/>\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPhoneNumber\">\n          <Form.Label>Phone Number</Form.Label>\n          <Form.Control type=\"number\" placeholder=\"305-273-1232\" value = {number} onChange={(e) => setNumber(e.target.value)}/>\n        </Form.Group>\n        <Form.Group controlId=\"formBasicAddress\">\n          <Form.Label>Address</Form.Label>\n          <Form.Control type=\"text\" placeholder=\"123 Main Street, New York, NY 10030\" value = {address} onChange={(e) => setAddress(e.target.value)}/>\n        </Form.Group>\n\n\n\n\n        <Button variant=\"primary\" type=\"submit\">\n          Submit\n        </Button>\n      </Form>\n    )\n}\n\n\nexport default CreateAccountForm","import SignInForm from './SignInForm'\nimport CreateAccountForm from './CreateAccountForm';\n\n\n\nconst SignIn = (props) => {\n \n    return(\n        \n       // comments to test the forms till we can trigger the check. \n        <div>\n            {props.signIn && (\n                <div>\n                    <h1>This is sign In</h1>\n                    <SignInForm />\n                </div>\n            )}\n            {!props.signIn && (\n                <div>\n                    <h1>this is sign up</h1>\n                    <CreateAccountForm />\n                </div>\n            )} \n        </div>\n       \n    )\n}\n\nexport default SignIn","import {useState, useEffect} from 'react'\nimport {Redirect} from 'react-router-dom'\nconst UserDashboard = (props) => {\n    const[userInfo, setUserInfo] = useState(null)\n    const getUserInfo = () => {\n        fetch('./api/users/me', {'credentials': 'include'})\n        .then(res => res.json())\n        .then(res => {\n            setUserInfo(res)\n            props.setUserLogginIn(true)\n        })\n        .catch(err => {\n            window.location.href=\"/signin\"\n            console.log(err)})\n    }\n    useEffect(() => {\n       getUserInfo()\n    },[])\n\n\n    return(\n\n        <div>\n            <div>\n                {userInfo && (\n                    <h1>Hello {userInfo.name}</h1>\n                )}\n               \n            </div>\n            <h1>User Settings</h1>\n            <div>\n                <h1>Order History</h1>\n                {userInfo && (\n                    userInfo.order.map((order,i) => (\n                        <div>\n                            <p>order</p>\n                        </div>\n                    ))\n                )\n               }\n            </div>\n            <div>\n                <h1>Favorite Orders</h1>\n            </div>\n        </div>\n    )\n}\n\nexport default UserDashboard","import React, { createContext, useState, useEffect } from \"react\";\nimport axios from 'axios'\n\nconst AppContext = createContext();\n\nconst AppContextProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null)\n  const [loading, setloading] = useState(false)\n  const user = sessionStorage.getItem('user')\n\n  useEffect(()=> {\n    if(user && !currentUser){\n      axios\n      //not sure if this is the correct route\n      .get(`/api/users/me` , {\n        withCredentials:true\n      }).then\n      (({ data })=> {\n        setCurrentUser(data);\n      }).catch\n      ((error)=> console.error(error))\n    }\n  },[currentUser, user]);\n\n  return (\n    <AppContext.Provider value={{\n      currentUser,\n      setCurrentUser,\n      loading,\n      setloading\n\n    }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport { AppContext, AppContextProvider };","import './styles/Navbar.css'\nimport { Link } from 'react-router-dom'\nconst Navbar = (props) => {\n    const logoutUser = () => {\n        fetch('/api/users/logout', {\n          method: \"POST\"\n        })\n        .then((res) => {\n          console.log(res)\n          props.setUserLogginIn(false)\n          res.json()\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n      }\n      \n    return(\n        <div className=\"container\">\n            <div className=\"navLogo\">\n                <h1>Logo</h1>\n            </div>\n            <div className=\"navOptions\">\n              \n               \n                {props.userLoggedIn &&  <Link to =\"/dashboard\" className=\"navItem\">Dashboard</Link>}\n                <Link to =\"/store\" className=\"navItem\">Store</Link>\n                {props.userLoggedIn ? \n                    <Link to=\"/signin\" className=\"navItem\" onClick={() => logoutUser()}>Logout</Link>\n                :   <Link to =\"/signin\" className=\"navItem\">Login</Link>\n                }\n                {!props.userLoggedIn &&  <Link to =\"/signUp\" className=\"navItem\">Sign Up</Link>}\n               \n            </div>\n        </div>\n    )\n}\n\nexport default Navbar","import {useEffect, useState} from 'react'\n\nconst Store = () => {\n    const[items, setItems] = useState(null)\n\n    const getStoreItems = () => {\n        fetch('./api/store/', {'credentials': 'include'})\n        .then(res => res.json())\n        .then(res => {\n            setItems(res)\n        })\n        .catch(err => {\n            console.log(err)})\n    }\n    useEffect(() => {\n        getStoreItems()\n    },[])\n\n    return (\n        <div>\n            <h1>This is the store page</h1>\n            <h1>Pizza's</h1>\n            {items && (\n                items.map((item, i) => (\n                    <div>\n                        <p>{item.name}</p>\n                        <button>Add to cart</button>\n                        <select>\n                            <option>Medium</option>\n                            <option>Large</option>\n                        </select>\n                        <input type=\"number\" placeholder=\"Quantity\"/>\n                    </div>\n                ))\n            )}\n        </div>\n    )\n}\nexport default Store","import './App.css';\nimport {useState} from 'react'\nimport { Route } from 'react-router-dom'\nimport SignIn from './components/SignIn'\nimport UserDashboard from './components/UserDashboard'\nimport { AppContextProvider } from './context/AppContext'\nimport Navbar from './components/Navbar'\nimport Store from './components/Store'\n\nfunction App() {\n  const [userLoggedIn, setUserLogginIn] = useState(false)\n  return (\n    <>\n    <AppContextProvider>\n      <Navbar \n      userLoggedIn={userLoggedIn} \n       setUserLogginIn ={setUserLogginIn}/>\n      <Route exact path=\"/signin\" render={() => (\n        <SignIn \n        signIn={true}\n        />\n      )} />\n      <Route exact path=\"/signup\" render={() => (\n        <SignIn \n        signIn={false}\n        />\n      )} />\n      <Route exact path=\"/dashboard\" render={() => (\n        <UserDashboard \n        setUserLogginIn ={setUserLogginIn}\n        />\n      )} />\n       <Route exact path=\"/store\" render={() => (\n        <Store \n        />\n      )} />\n      </AppContextProvider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}