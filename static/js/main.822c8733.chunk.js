(this["webpackJsonpPies-and-Fries"]=this["webpackJsonpPies-and-Fries"]||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},63:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(31),a=n.n(s),o=(n(39),n(7)),i=(n(40),n(6)),j=n(68),l=n(69),d=n(1),u=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),a=Object(o.a)(s,2),i=a[0],u=a[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(j.a,{onSubmit:function(e){e.preventDefault(),fetch("/api/users/login",{method:"POST",body:JSON.stringify({email:n,password:i}),headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),e.json(),200===e.status&&(window.location.href="/dashboard")})).catch((function(e){console.log(e)}))},children:[Object(d.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(d.jsx)(j.a.Label,{children:"Email address"}),Object(d.jsx)(j.a.Control,{type:"email",placeholder:"Enter email",value:n,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)(j.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)(j.a.Group,{controlId:"formBasicPassword",children:[Object(d.jsx)(j.a.Label,{children:"Password"}),Object(d.jsx)(j.a.Control,{type:"password",placeholder:"Password",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(d.jsx)(l.a,{variant:"primary",type:"submit",children:"Submit"})]})})},b=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),a=Object(o.a)(s,2),i=a[0],u=a[1],b=Object(c.useState)(""),h=Object(o.a)(b,2),O=h[0],x=h[1],f=Object(c.useState)(""),g=Object(o.a)(f,2),p=g[0],m=g[1],v=Object(c.useState)(""),S=Object(o.a)(v,2),I=S[0],y=S[1],w=Object(c.useState)(""),C=Object(o.a)(w,2),L=C[0],N=C[1];return Object(d.jsxs)(j.a,{onSubmit:function(e){L===O?(e.preventDefault(),fetch("/api/users",{method:"POST",body:JSON.stringify({name:n,email:i,password:O,number:p,address:I}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))):alert("passwords do not match")},children:[Object(d.jsxs)(j.a.Group,{controlId:"formBasicUserName",children:[Object(d.jsx)(j.a.Label,{children:"Name"}),Object(d.jsx)(j.a.Control,{type:"Text",placeholder:"EnterName",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(d.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(d.jsx)(j.a.Label,{children:"Email address"}),Object(d.jsx)(j.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return u(e.target.value)}}),Object(d.jsx)(j.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)(j.a.Group,{controlId:"formBasicPassword",children:[Object(d.jsx)(j.a.Label,{children:"Password"}),Object(d.jsx)(j.a.Control,{type:"password",placeholder:"Password",value:O,onChange:function(e){return x(e.target.value)}}),Object(d.jsx)(j.a.Label,{children:"Confirm Password"}),Object(d.jsx)(j.a.Control,{type:"password",placeholder:"Password",value:L,onChange:function(e){return N(e.target.value)}})]}),Object(d.jsxs)(j.a.Group,{controlId:"formBasicPhoneNumber",children:[Object(d.jsx)(j.a.Label,{children:"Phone Number"}),Object(d.jsx)(j.a.Control,{type:"number",placeholder:"305-273-1232",value:p,onChange:function(e){return m(e.target.value)}})]}),Object(d.jsxs)(j.a.Group,{controlId:"formBasicAddress",children:[Object(d.jsx)(j.a.Label,{children:"Address"}),Object(d.jsx)(j.a.Control,{type:"text",placeholder:"123 Main Street, New York, NY 10030",value:I,onChange:function(e){return y(e.target.value)}})]}),Object(d.jsx)(l.a,{variant:"primary",type:"submit",children:"Submit"})]})},h=function(e){return Object(d.jsxs)("div",{children:[e.signIn&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"This is sign In"}),Object(d.jsx)(u,{})]}),!e.signIn&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"this is sign up"}),Object(d.jsx)(b,{})]})]})},O=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){fetch("./api/users/me",{credentials:"include"}).then((function(e){return e.json()})).then((function(t){s(t),e.setUserLogginIn(!0)})).catch((function(e){window.location.href="/signin",console.log(e)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:r&&Object(d.jsxs)("h1",{children:["Hello ",r.name]})}),Object(d.jsx)("h1",{children:"User Settings"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Order History"}),r&&r.order.map((function(e,t){return Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"order"})})}))]}),Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Favorite Orders"})})]})},x=n(32),f=n.n(x),g=Object(c.createContext)(),p=function(e){var t=e.children,n=Object(c.useState)(null),r=Object(o.a)(n,2),s=r[0],a=r[1],i=Object(c.useState)(!1),j=Object(o.a)(i,2),l=j[0],u=j[1],b=sessionStorage.getItem("user");return Object(c.useEffect)((function(){b&&!s&&f.a.get("/api/users/me",{withCredentials:!0}).then((function(e){var t=e.data;a(t)})).catch((function(e){return console.error(e)}))}),[s,b]),Object(d.jsx)(g.Provider,{value:{currentUser:s,setCurrentUser:a,loading:l,setloading:u},children:t})},m=(n(63),n(13)),v=function(e){return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"navLogo",children:Object(d.jsx)("h1",{children:"Logo"})}),Object(d.jsxs)("div",{className:"navOptions",children:[e.userLoggedIn&&Object(d.jsx)(m.b,{to:"/dashboard",className:"navItem",children:"Dashboard"}),Object(d.jsx)(m.b,{to:"/store",className:"navItem",children:"Store"}),e.userLoggedIn?Object(d.jsx)(m.b,{to:"/signin",className:"navItem",onClick:function(){fetch("/api/users/logout",{method:"POST"}).then((function(t){console.log(t),e.setUserLogginIn(!1),t.json()})).catch((function(e){console.log(e)}))},children:"Logout"}):Object(d.jsx)(m.b,{to:"/signin",className:"navItem",children:"Login"}),!e.userLoggedIn&&Object(d.jsx)(m.b,{to:"/signUp",className:"navItem",children:"Sign Up"})]})]})},S=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){fetch("./api/store/",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.log(e)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"This is the store page"}),Object(d.jsx)("h1",{children:"Pizza's"}),n&&n.map((function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:e.name}),Object(d.jsx)("button",{children:"Add to cart"}),Object(d.jsxs)("select",{children:[Object(d.jsx)("option",{children:"Medium"}),Object(d.jsx)("option",{children:"Large"})]}),Object(d.jsx)("input",{type:"number",placeholder:"Quantity"})]})}))]})};var I=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(p,{children:[Object(d.jsx)(v,{userLoggedIn:n,setUserLogginIn:r}),Object(d.jsx)(i.a,{exact:!0,path:"/signin",render:function(){return Object(d.jsx)(h,{signIn:!0})}}),Object(d.jsx)(i.a,{exact:!0,path:"/signup",render:function(){return Object(d.jsx)(h,{signIn:!1})}}),Object(d.jsx)(i.a,{exact:!0,path:"/dashboard",render:function(){return Object(d.jsx)(O,{setUserLogginIn:r})}}),Object(d.jsx)(i.a,{exact:!0,path:"/store",render:function(){return Object(d.jsx)(S,{})}})]})})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(m.a,{children:Object(d.jsx)(I,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.822c8733.chunk.js.map